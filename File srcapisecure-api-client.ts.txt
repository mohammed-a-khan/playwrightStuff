package com.yourcompany.api.endpoints;

import java.util.Map;

import com.yourcompany.api.core.BaseAPIEndpoint;
import com.yourcompany.api.core.GenericRestClient.ApiResponse;

/**
 * Endpoint class for the Asset Layout API.
 * Uses the generic BaseAPIEndpoint to handle API requests.
 */
public class AssetLayoutEndpoint extends BaseAPIEndpoint {
    
    private static final String PAYLOAD_FILE = "assetlayout-payload.json";
    
    /**
     * Constructor for AssetLayoutEndpoint.
     * Configures the endpoint for certificate-based authentication.
     */
    public AssetLayoutEndpoint() {
        super("ws.endpoint.assetlayout", true);
    }
    
    /**
     * Executes a request to the Asset Layout API using the test data provided.
     * 
     * @param testData map containing test data values
     * @return the response from the API
     */
    public ApiResponse executeRequest(Map<String, Object> testData) {
        logger.info("Executing Asset Layout API request with test data: " + testData);
        
        // Execute POST request with payload from file
        post(PAYLOAD_FILE, testData);
        
        logger.info("Received response with status: " + getStatusCode());
        logger.debug("Response body: " + getResponseBody());
        
        return getResponse();
    }
}
