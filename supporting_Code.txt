// src/framework/base-web-page.ts
import { Page, Locator, BrowserContext, Response, Request } from '@playwright/test';
import { expect } from '@playwright/test';
import fs from 'fs';
import path from 'path';
import { Logger } from './utils/logger';
import { ConfigManager } from './utils/config-manager';

/**
 * Base web page class for all UI page objects
 * Provides common methods for UI interactions
 */
export class BaseWebPage {
  readonly page: Page;
  readonly context: BrowserContext;
  readonly baseUrl: string;
  readonly defaultTimeout: number;
  readonly logger: Logger;
  readonly config: ConfigManager;

  /**
   * Constructor for the BaseWebPage
   * @param page - Playwright Page object
   * @param context - Playwright Browser Context
   * @param baseUrl - Base URL for UI navigation (optional)
   */
  constructor(
    page: Page, 
    context: BrowserContext,
    baseUrl?: string
  ) {
    this.page = page;
    this.context = context;
    this.config = ConfigManager.getInstance();
    this.baseUrl = baseUrl || this.config.getBaseUrl();
    this.defaultTimeout = this.config.getDefaultTimeout();
    this.logger = new Logger(this.constructor.name);
    
    // Set up listeners for network events
    this.setupNetworkListeners();
  }

  // Rest of the class remains the same
}
